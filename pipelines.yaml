```groovy
pipeline {
    agent {
        docker {
            image 'node:18-alpine'  // Using a node image suitable for React development
            label 'react-builder'      // Optional: Use a label to target specific build agents
            args '-u root:root'       // Ensures proper permissions within the container
        }
    }
    options {
        timeout(time: 60, unit: 'MINUTES') // Global timeout
        //disableConcurrentBuilds()  // Uncomment if you need to prevent concurrent builds
        buildDiscarder(logRotator(daysToKeep: 7, numToKeep: 10))
        timestamps()
    }
    environment {
        NPM_CONFIG_CACHE = "$HOME/.npm" // Cache npm dependencies
        CI = 'true'                 // Ensure CI environment variables are set
        REACT_APP_API_URL = "${env.REACT_APP_API_URL}" //React app env variable
        JFROG_URL = "${env.JFROG_URL}"
        JFROG_USERNAME = "${env.JFROG_USERNAME}"
        JFROG_PASSWORD = "${env.JFROG_PASSWORD}"
        ARTIFACTORY_REPO = "${env.ARTIFACTORY_REPO}" // Artifact repository name
        NPM_TOKEN = "${env.NPM_TOKEN}"
    }
    parameters {
        string(name: 'BRANCH_NAME', defaultValue: 'main', description: 'Branch to build')
        string(name: 'BUILD_VERSION', defaultValue: '1.0.0', description: 'Build Version')
    }

    stages {
        stage('Checkout') {
            steps {
                git branch: "${params.BRANCH_NAME}", url: "${env.GIT_REPO_URL}", credentialsId: "${env.GIT_CREDENTIALS_ID}"
                script {
                    env.BUILD_NUMBER = "${BUILD_NUMBER}"
                    env.APP_VERSION = "${params.BUILD_VERSION}.${BUILD_NUMBER}"
                }
            }
        }

        stage('Dependencies') {
            steps {
                sh 'npm config set //registry.npmjs.org/:_authToken $NPM_TOKEN'
                sh 'npm ci --cache $NPM_CONFIG_CACHE --prefer-offline' // Install dependencies with caching
            }
        }

        stage('Tests') {
            steps {
                sh 'npm test -- --watchAll=false --coverage' // Run unit tests with coverage
            }
            post {
                always {
                    //Publish test report
                    junit 'coverage/junit.xml'
                    //Publish code coverage
                    publishHTML(script: 'cat ./coverage/index.html', keepAll: true, reportDir: 'coverage', reportName: 'Code Coverage Report', reportTitles: '')
                }
                failure {
                    echo 'Tests Failed!'
                    // Optionally, send notifications here
                }
            }
        }

        stage('Build') {
            steps {
                sh 'npm run build' // Build the React application
                sh 'echo "Build Version: $APP_VERSION" > build/version.txt'
            }
        }

        stage('Package') {
            steps {
                script {
                    def appName = "my-react-app" // Define artifact name
                    def artifactName = "${appName}-${env.APP_VERSION}.zip"
                    sh "zip -r ${artifactName} build" // Create ZIP archive

                    env.ARTIFACT_PATH = artifactName

                }
            }
        }

        stage('Publish to Artifactory') {
            steps {
                script {
                    def serverUrl = "${env.JFROG_URL}"
                    def artifactoryRepo = "${env.ARTIFACTORY_REPO}"
                    def artifactPath = "${env.ARTIFACT_PATH}"
                    def version = "${env.APP_VERSION}"
                    def username = "${env.JFROG_USERNAME}"
                    def password = "${env.JFROG_PASSWORD}"
                    def appName = "my-react-app"

                    withCredentials([usernamePassword(credentialsId: "${env.JFROG_CREDENTIALS_ID}", usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD')]) {
                        sh """
                            curl -u "\$USERNAME:\$PASSWORD" -T ${artifactPath} ${serverUrl}/artifactory/${artifactoryRepo}/${appName}/${version}/${artifactPath}
                        """
                    }

                }
            }
        }
    }
    post {
        always {
            cleanWs()
        }
        failure {
            echo 'Pipeline failed!'
            // Optionally, send notifications here
        }
    }
}
```